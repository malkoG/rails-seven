<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Register - Plain | AirControl by themes.dev</title>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Accept-CH" content="DPR,Width,Viewport-Width" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"  />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body class="h-screen font-sans antialiased text-gray-700">
    <main
  class="flex flex-row items-center justify-center min-h-screen px-4 py-6 pt-12 bg-white">
      <div class="relative z-10 flex justify-center flex-1 pb-12">
        <div class="w-full max-w-xl">
          <div class="px-8 py-4 lg:px-12 lg:py-12">
            <%= link_to '서명하기', new_petition_path %>
          </div>
          <div class="px-8 py-4 lg:px-12 lg:py-12">
            <table class="w-full text-left border-collapse">
              <thead>
                <tr>
                  <th class="sticky z-10 top-0 text-sm leading-6 font-semibold text-slate-700 bg-white p-0 dark:bg-slate-900 dark:text-slate-300">
                    <div class="py-2 pr-2 border-b border-slate-200 dark:border-slate-400/20">No</div>
                  </th>
                  <th class="sticky z-10 top-0 text-sm leading-6 font-semibold text-slate-700 bg-white p-0 dark:bg-slate-900 dark:text-slate-300">
                    <div class="py-2 pr-2 border-b border-slate-200 dark:border-slate-400/20">이름</div>
                  </th>
                  <th class="sticky z-10 top-0 text-sm leading-6 font-semibold text-slate-700 bg-white p-0 dark:bg-slate-900 dark:text-slate-300">
                    <div class="py-2 pl-2 border-b border-slate-200 dark:border-slate-400/20">서명일</div>
                  </th>
                </tr>
              </thead>
              <tbody class="align-baseline">
                <% @petitions.each do |petition| %>
                <tr>
                  <td translate="no" class="py-2 pr-2 font-mono font-medium text-xs leading-6 text-sky-500 whitespace-nowrap dark:text-sky-400">
                    <%= petition.id %>
                  </td>
                  <td translate="no" class="py-2 pr-2 font-mono font-medium text-xs leading-6 text-sky-500 whitespace-nowrap dark:text-sky-400">
                    <%= NameMaskService.new(petition.name).masked_name %>
                  </td>
                  <td translate="no" class="py-2 pl-2 font-mono text-xs leading-6 text-indigo-600 whitespace-pre dark:text-indigo-300">
                    <%= petition.created_at.strftime('%F') %>
                  </td>
                </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
